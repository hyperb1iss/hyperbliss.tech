---
description: 
globs: app/cyberscape/**
alwaysApply: false
---
# ğŸŒ  CyberScape Animation System

## âœ¨ Overview

CyberScape is a custom-built, interactive background animation that brings the cyberpunk aesthetic of hyperbliss.tech to life. It creates a dynamic, responsive environment that reacts to user interactions and adds depth to the overall user experience.

## ğŸ”® Key Features

- **Interactive Particles**: A field of glowing particles that respond to cursor movements
- **Vector Shapes**: 3D wireframe shapes (cubes, pyramids, stars) floating in space
- **Dynamic Connections**: Lines connecting nearby particles to create a network effect
- **Glitch Effects**: Occasional glitch animations for an authentic cyberpunk feel
- **Responsive Design**: Adapts to different screen sizes and device capabilities

## ğŸ—ï¸ Architecture

The CyberScape system is modular and organized in the `app/cyberscape/` directory:

```
app/cyberscape/
â”œâ”€â”€ index.ts               # Main entry point with initialization
â”œâ”€â”€ CyberScape.ts          # Core controller class
â”œâ”€â”€ shapes/                # Vector shape implementations
â”‚   â”œâ”€â”€ VectorShape.ts     # Base shape class
â”‚   â”œâ”€â”€ Cube.ts            # 3D cube implementation
â”‚   â”œâ”€â”€ Pyramid.ts         # 3D pyramid implementation
â”‚   â””â”€â”€ Star.ts            # 3D star implementation
â”œâ”€â”€ particles/             # Particle system
â”‚   â”œâ”€â”€ Particle.ts        # Particle class definition
â”‚   â””â”€â”€ ParticleSystem.ts  # Particle system manager
â”œâ”€â”€ effects/               # Visual effects
â”‚   â”œâ”€â”€ glitchEffects.ts   # Glitch animation effects
â”‚   â””â”€â”€ shaderEffects.ts   # Post-processing effects
â”œâ”€â”€ handlers/              # Event and interaction handlers
â”‚   â”œâ”€â”€ mouseHandler.ts    # Mouse/touch interaction handler
â”‚   â””â”€â”€ resizeHandler.ts   # Responsive canvas sizing
â””â”€â”€ utils/                 # Utility functions
    â”œâ”€â”€ colors.ts          # Color generation and manipulation
    â”œâ”€â”€ math.ts            # Vector math and calculations
    â””â”€â”€ performance.ts     # Performance optimization utilities
```

## ğŸ§  Core Logic Flow

1. **Initialization**:
   - `initializeCyberScape()` sets up the canvas and WebGL context
   - Creates and configures particle system and shapes
   - Attaches event listeners

2. **Animation Loop**:
   - Continuous `requestAnimationFrame` loop
   - Updates particle positions and connections
   - Rotates and transforms vector shapes
   - Applies visual effects
   - Renders the scene

3. **Interaction Handling**:
   - Mouse movements trigger attraction/repulsion of nearby particles
   - Scroll position affects the overall animation speed
   - Touch events are translated to equivalent mouse interactions

## ğŸ¨ Visual Effects

### Particles
- Glow with variable opacity based on proximity
- Color transitions using the site's color palette
- Scale with distance from cursor

### Vector Shapes
- Wireframe rendering with perspective transformation
- Slow rotation on multiple axes
- Occasional random speed bursts

### Glitch Effects
- Chromatic aberration during glitch moments
- Scanline effects
- Random displacements
- Color channel shifting

## âš¡ Performance Optimization

- Throttled event listeners to prevent performance bottlenecks
- Dynamic particle count based on device performance
- Skips frames when FPS drops below threshold
- Uses hardware acceleration where available
- Reduces detail on mobile devices

## ğŸ”§ Customization API

The CyberScape system provides configuration options through the `CyberScapeOptions` interface:

```typescript
interface CyberScapeOptions {
  particleCount: number;       // Number of particles
  particleSize: number;        // Size of particles
  connectionDistance: number;  // Max distance for particle connections
  shapes: ShapeType[];         // Array of shape types to create
  glitchFrequency: number;     // Frequency of glitch effects (0-1)
  colorScheme: ColorScheme;    // Primary colors for the animation
  interactivity: boolean;      // Enable/disable mouse interaction
}
```

## ğŸ§© Integration

CyberScape is typically attached to the main layout component and positioned as a background element with z-index control.

